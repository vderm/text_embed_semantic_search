---
author: Vasken Dermardiros
categories: note
tags:
- research
- mapping
title: Haystack
---


Ties in with what a [[digital-twin]] is all about.

## New things in Haystack 4
- Relationship: https://project-haystack.org/doc/appendix/relationship
- Spaces: https://project-haystack.org/doc/docHaystack/Spaces

### Relationship
+ relationship: Ref tags used to model entity-to-entity relationships
+ containedBy: The entity is logically contained by the referent
+ contains: Entities logically contained by this entity
+ inputs: The entity inputs a substance from the referent
+ outputs: The entity outputs a substance to the referent

### Floors

```
// ground floor; typically called first floor in the US
id: @site.floor1
dis: "Ground Floor"
ground
floor
space
floorNum: 0
siteRef: @site

// basement floor
id: @site.basement
dis: "Basement Level 1"
subterranean
floor
space
floorNum: -1
siteRef: @site

// roofs are modeled as a special floor
id: @site.roof
dis: "Roof level of two story building"
roof
floor
space
floorNum: 2
siteRef: @site
```

### Zones

```
id: @site.zone3B
dis: "VAV Zone 3-B"
hvac
zone
space
siteRef: @site
spaceRef: @site.floor3
```

## Comment from Vasken Dermardiros
I really like the Spaces tag for tagging zones in floors and the Relationship one is good too; agreed, not as thorough as Bricks, but useful nevertheless.

We would like the Spaces tag to better know if certain zones are on the same floor or somewhat nearby to each other. If they’re not on the same floor, we have the option to consider them to be independent since heat doesn’t travel that well between floors. This independence assumption can facilitate modeling and controls.

For the Relationship, just chatted with @Scott McDonald and he read that we can define a “Flow Relationship”, so, if zone A affects zone B, we could tag it with a heat flow relationship and this can be based on a calculation he developed. We’re thinking that we might not always have the ground-truth information which here would be the mechanical plans and/or an accurate BMS representation, so we can base some of these entries on the data.


[//begin]: # "Autogenerated link references for markdown compatibility"
[digital-twin]: digital-twin.md "Digital Twin"
[//end]: # "Autogenerated link references"